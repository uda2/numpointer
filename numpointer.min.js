class numPointer{constructor(t,i,s){this.fcolor=s.fcolor||"#FC8600",this.bcolor=s.bcolor||"#FFFFFF",this.lineWidth=s.lineWidth||4,this.witeWidth=s.witeWidth||3,this.font=s.font||"22px 'Arial Black'",this.radius=s.radius||15,this.pointerBase=s.pointerBase||8,this.pointerLength=s.pointerLength||8,this.pointerBaseRad=Math.atan2(this.pointerBase/2,Math.sqrt(this.radius**2-(this.pointerBase/2)**2)),this.data=i,this.canvas,this.canvasWidth,this.canvasHeight,this.ctx,this.imgelm=document.querySelector(t),this.toRad=Math.PI/180,this.imgobj=new Image,this.imgelm.complete&&0<this.imgelm.naturalWidth?this.start():this.imgelm.onload=function(){this.start()}}start(){this.imgobj.src=this.imgelm.getAttribute("src"),this.imgobj.complete?this.initialize():this.imgobj.onload=function(){this.initialize()}}initialize(){if(this.canvasWidth=this.imgobj.width,this.canvasHeight=this.imgobj.height,this.canvas=document.createElement("canvas"),!this.canvas||!this.canvas.getContext)return!1;this.ctx=this.canvas.getContext("2d"),this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.drawAll(),this.imgelm.src=this.canvas.toDataURL()}drawAll(){this.ctx.drawImage(this.imgobj,0,0);for(const t of this.data)void 0===t.id?this.drawRect(t.x,t.y,t.w,t.h,this.fcolor):this.drawNum(t.x,t.y,t.v,t.id,this.fcolor)}drawNum(t,i,s,h,a){var e=this.ctx;e.font=this.font,e.strokeStyle=this.bcolor,e.lineWidth=this.witeWidth,e.textAlign="center",e.strokeText(h,t,i+this.radius/2),e.fillStyle=a,e.fillText(h,t,i+this.radius/2),e.strokeStyle=this.bcolor,e.lineWidth=this.lineWidth+this.witeWidth,e.beginPath(),e.arc(t,i,this.radius,0,2*Math.PI,!1),e.stroke(),-1!=s&&(e.lineWidth=this.witeWidth,this.drawTriangle(t,i,s),e.stroke(),e.fillStyle=a,this.drawTriangle(t,i,s),e.fill()),e.strokeStyle=a,e.lineWidth=this.lineWidth,e.beginPath(),e.arc(t,i,this.radius,0,2*Math.PI,!1),e.stroke()}drawRect(t,i,s,h,a){var e=this.ctx;e.strokeStyle=this.bcolor,e.lineWidth=this.lineWidth+2,e.beginPath(),e.strokeRect(t,i,s,h),e.strokeStyle=a,e.lineWidth=this.lineWidth,e.beginPath(),e.strokeRect(t,i,s,h)}drawTriangle(t,i,s){var h,a=this.ctx;a.beginPath(),h=s*this.toRad,a.moveTo(t+Math.round(Math.cos(h)*(this.radius+this.pointerLength)),i+Math.round(Math.sin(h)*(this.radius+this.pointerLength))),h=s*this.toRad+this.pointerBaseRad,a.lineTo(t+Math.round(Math.cos(h)*this.radius),i+Math.round(Math.sin(h)*this.radius)),h=s*this.toRad-this.pointerBaseRad,a.lineTo(t+Math.round(Math.cos(h)*this.radius),i+Math.round(Math.sin(h)*this.radius)),a.closePath()}}